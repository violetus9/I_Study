<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>함수형 자바스크립트 기본기</title>
</head>

<body>

	<script>const log = console.log;</script>

	# 평가
	- 코드가 계산(Evaluation) 되어 값을 만드는 것

	# 일급
	- 값으로 다룰 수 있음.
	- 변수에 담을 수 있음.
	- 함수의 인자로 사용될 수 있음.
	- 함수의 결과로 사용될 수 있음.

	<script>

		const a = 10;
		const add10 = a => a + 10;
		const r = add10(a);
		log(r);

	</script>

	# 일급 함수
	- 함수를 값으로 다룰 수 있음.
	- 조합성과 추상화의 도구

	<script>

		// js서 함수는 일급이며 함수를 값으로 다룰 수 있다는 얘기
		const add5 = a => a + 5;	// 이 변수에 함수를 값으로 다룬다
		log(add5);					// 함수의 인자를 함수로 사용 가능
		log(add5(5));				// 평가에서 결과로 만들어 값을 다른데 전달 가능

		const f1 = () => () => 1;	// 함수가 일급이라는 것 : 함수의 결과로 함수가 사용 가능
		log(f1());	// 함수의 결과는 함수, 함수가 출력됨

		const f2 = f1();
		log(f2);
		log(f2());					// 원하는 시점에서 함수를 결과로 만들 수 있단거
	// 함수가 일급이라는 성질로 많은 조합성을 나타내고 추상화~

	</script>

	# 일급 함수
	- 함수가 값으로 다뤄질 수 있다.

	# 고차 함수
	- 함수를 값으로 다루는 함수

	## 함수를 인자로 받아 실행되는 함수
	- apply1
	- times

	<script type="text/javascript">

		const apply1 = f => f(1);	// 함수가 함수를 받아 안에서 실행, 고차함수
		const add2 = a => a + 2;	// a라는 인자를 받아 a + 2 하는 함수를.
		log(apply1(add2));			// 3으로 평가되는 모습
		log(apply1(a => a - 1));	// (a를 받아 a-1을 하는 함수), 다양하게 받을 수 있다는 것

		// 함수와 숫자를 받아 숫자만큼 함수를 실행하는 함수 만들어 보겠다
		const times = (f, n) => {
			let i = -1;
			while (++i < n) f(i);
		}

		times(log, 3);				// 3번 실행하면서 실행이 되겠다

		times(a => log(a + 10), 3);	// 함수를 값으로 받고 다른 값을, 함수를 인자로 받아, 원하는 인자를 적용 > 이러한 프로그래밍을 applicative programing

	</script>

	## 함수를 만들어 리턴하는 함수(클로저를 만들어 리턴하는 함수)
	- addMaker

	<script>
		const addMaker = a => b => a + b;	// b => a + b 는 a를 계속 기억하고 있는 클로저. 클로저는 함수가 만들어질때 환경인 a와 자체 객체를 통칭하는 용어
		const add10 = addMaker(10);
		log(add10(5));
		log(add10(10));
	</script>


</body>

</html>
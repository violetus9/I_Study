## Cross Browsing

모든 브라우저에서 깨지지 않게끔 호환성을 맞추는 작업  
(HTML, CSS, JS 작성 시 W3C 웹 규격에 맞게끔 코딩을 하여 어느 브라우저나 기기등의 사이트가 의도한 대로 보이게 하는 기법)

이와 같은 작업이 필요한 이유는 브라우저마다 렌더링 엔진이 다르기 때문이다. 보통은 최신 버전으로 자동 업데이트 되는 브라우저가 많지만, IE의 경우는 사용자가 직접 업데이트를 해야 하며 윈도우 버전에 따라 사용할 수 있는 최대 버전이 다르기 때문에 주로 IE를 버전마다 크로스 브라우징 한다.

_어디까지나 호환성을 맞추기 위한 작업이지, 무조건 "똑같이" 보이게 만드는 작업이란 오해는 버려야 한다._

<br>

**렌더링 엔진(레이아웃 엔진)**

페이지 렌더링 시 실질적 작업을 맡는 엔진, 같은 엔진을 사용한다면 브라우저가 달라도 비슷한 출력을 보이게 된다.

- 엔진의 종류

  - Trident(마이크로 소프트)

  - Gecko(모질라)

  - Webkit(애플)

  - Presto(오페라 소프트웨어)

  - Blink(구글)

  - 듀얼 엔진  
    두가지 엔진을 번갈아 사용하는 방식, 보통 트라이던트 + 웹킷(or블링크) 엔진을 사용.

<br>

**브라우저 대응 순서**

대응 시 타겟이 될(점유율 높은) 브라우저부터 맞추는 것이 좋다.  
상황에 따라 기준 점유율 이하의 브라우저는 지원을 제외하기도 한다.

- 점유율 조사 사이트

  (국제)  
  http://gs.statcounter.com/

  (국내)  
  http://gs.statcounter.com/browser-market-share/desktop/south-korea/#monthly-201805-201903

  _국제 점유율과 국내 점유율은 확실히 다르니 배포할 때 타겟을 잘 잡아야 한다_

<br>

**Cross Browsing**

1.  호환성을 알려주는 사이트를 이용한 타게팅을 한다.  
    https://caniuse.com

2.  초기화 작업(CSS)  
    브라우저마다 차이가 나는 기본 스타일 값들을 초기화 시킨다.

3.  핵(Hack)
    스타일을 줄 때 특수문자를 넣으면 타 브라우저에서 인식이 안되지만 IE 특정 버전에선 인식하도록 하는 방법이나, 이 방법은 좋지 못하다.  
    CSS 유지보수를 어렵게 하며 IE8 이상의 브라우저에서 구분해내기가 어렵기 때문이다.

    ```css
    #main {
    	color: green;
    	/* IE7이하 대응 */
    	*color: blue;
    	/* IE6 대응 */
    	_color: red;
    }
    ```

    _위 코드만 봐도 유지보수 어려울 것 같지 않나? 일일히 저런걸 언제 다 찾아볼거임???_

4.  IE용 주석을 이용한 방법 (Conditional Comments)  
    HTML 문서 내에서 주석을 이용한 구분 방법

    | 용어                         | 뜻   |
    | ---------------------------- | ---- |
    | it(less than)                | 미만 |
    | lte(less than or equal to)   | 이하 |
    | gt(greater than)             | 초과 |
    | gte(greater than or equal to | 이상 |

    ```html
    <!-- [if gte IE 7]>
      <link href="ie7.css" type="text/css" rel="stylesheet"/>
    <![endif]-->

    <!-- [if lt IE 8]>
      <p> 이 문구는 IE8이 포함되지 않은 하위 브라우저에서 보여짐.</p>
    <![endif]-->
    ```

5.  메타 태그를 이용한 IE 모드

```html
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
</head>
```

`<head>`요소 내부에 위치한다. IE가 문서를 렌더링 할 때 원하는 모드로 렌더링하게 한다. 만일 content 값이 `IE=edge`면, 해당 부라우저가 할 수 있는 가장 최신의 모드로 렌더링 한다.

<br>
<br>

> _Cross Browsing을 어느 수준까지 맞추는가에 대한 의문은 개발자 본인이 잘 생각하고 판단해야 한다. 왜냐하면 보통 IE 하위 버전 사용자들은 컴퓨터 사양도 좋지 않은 경우가 많기 때문에, html5를 적용하기 위해 라이브러리를 사용한다면 성능 저하가 심할수밖에 없기 때문!_

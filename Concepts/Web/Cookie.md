## Cookie

클라이언트 로컬(하드)에 저장되는 key, value값이 들어 있는 데이터 파일.

**특징**

1. 세션 관리(Session management)

서버에 저장해야 할 로그인, 장바구니, 게임 스코어 등의 정보

2. 개인화(Personalization)

사용자의 테마, 선호 등의 세팅

3. 트래킹(Tracking)

사용자 행동을 기록, 분석하는 용도

<br>

다음은 쿠키의 대략적인 설명

- 서버에 저장되는 것이 아니다. 보안과 상관 없는 정보에 이용할 것.

- 재 요청시 저장된 값을 참조하여 재사용한다.

- 사용자의 로컬에 저장되기에 공공장소에서 해킹 등의 악용이 가능하다.

  > XSS, CSRF....

- 클라이언트에 300개, 도메인 하나에 50개의 값이 저장되며 하나의 쿠키는 4kb까지 저장할 수 있다.

- 이름, 값, 만료(저장 기간), 경로 정보가 있어야 한다. 일정 기간동안 데이터를 저장할 수 있다는 것.

- 같은 도메인상 쿠키의 값을 공유한다.

- 클라이언트의 요청이 없어도 브라우저 요청이 있는 경우, Request Header에 넣어 자동으로 서버로 전송한다.

- HttpOnly 플래그가 설정되어있지 않는 경우 기존의 쿠키는 Javascript로 접근할 수 있으며, 새로운 쿠키는 Document.cookie 선언을 통해 만들어낼 수 있다.

  ```js
  document.cookie = "Cookie=Born";
  document.cookie = "Cooki_eeee=bbBorn";
  console.log(document.cookie);
  // "Cookie=Born; Cooki_eeee=bbBorn"
  ```

<br>

**쿠키의 스코프**

Domain, Path 디렉티브는 어떤 URL을 쿠키가 보내야 하는지, 스코프를 정의한다.

Domain은 쿠키가 전송되게 될 호스트들을 명시하며, 만약 명시되지 않는다면 현재 문서 위치의 호스트 일부를 기본값으로 가진다.  
명시된 경우 서브도메인들은 항상 포함된다.

Path는 쿠키 헤더를 전송하기 위해 요청되는 URL 내에 반드시 존재해야만 하는 URL 경로이다.

<br>

**쿠키가 서버로 전송되는 이유**

HTTP 요청은 클라이언트 상태에 대한 정보가 없다. 따라서 브라우저가 서버로 클라이언트의 정보를 가져오기위한 GET 요청을 보내면, 서버는 해당 요청이 어느 클라이언트에서 온 것인지 알 방법이 없다.

이 때, 쿠키에 클라이언트의 정보를 담아 서버로 보내면 서버는 해당 요청이 누구의 요청인지 알 수 있다.

즉, 서버-클라이언트의 데이터 교환을 위한 것.

<br>

**어디에 쓰일까?**

1. ~~일 동안 열지 않기

2. 장바구니

3. 글 임시 저장(form)

4. 임시데이터, 캐시, history 기능을 위함

5. 방문 내역

6. 자동 로그인

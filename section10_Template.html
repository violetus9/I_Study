<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Template</title>
</head>

<body>

  <!-- Tmeplate 처리 -->
  <script>

    const data = [
      {
        name: 'coffee-bean',
        order: true,
        items: ['americano', 'milk', 'green-tea']
      },
      {
        name: 'startbucks',
        order: false
      },
      {
        name: 'coffee-king',
        order: true,
        items: ['americano', 'latte']
      }
    ]

    // json으로 응답을 받고, js object로 변환 후,
    // 어떤 데이터 처리 조작을 한 후, dom에 추가, but 어려움
    // 데이터 + HTML문자열의 결합이 필요하기 때문

    const template = `<div>welcome ${data[0].items} !!</div>`;
    console.log(template);
    // 이 상황서 두번째 항목은 undefined가 나올 때가 있다

  </script>

  <!-- Tagged Tamplate literals -->
  <script>

    function fn(tags, name, items) {
      console.log(tags);  // 감싸는 html이 tags의 배열로 들어가게 된다

      if (typeof items === 'undefined') { // items가 undefined냐를 판단해야 하는 상황이다
        items = '<span style="color:red">주문 가능한 상품이 없습니다.'; // span태그나 다른 태그, 스타일지정도 가능하다
      }
      return (tags[0] + name + tags[1] + items + tags[2]);
    }

    // 템플릿 조작을 하다보면 조건문이나 반복상황서 다르게 처리할 필요가 있다
    const template2 = fn`<div>welcome ${data[0].name} !!</div>
                    <h2>주문가능항목</h2><div>${data[0].items}</div>`;

    console.log(template);
    // data의 인덱스를 바꿔보면 함수가 잘 맞게 반영되는 중

    // forEach로 해보기
    data.forEach((v) => {
      let template3 = fn`<div>welcome ${v.name} !!</div>
                    <h2>주문가능항목</h2><div>${v.items}</div>`;
      console.log(template3);
    });

  </script>

</body>

</html>
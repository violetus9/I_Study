<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>map, filter, reduce</title>
</head>

<body>

  <script>const log = console.log;</script>

  <script>
    const products = [
      { name: '반팔티', price: 15000 },
      { name: '긴팔티', price: 20000 },
      { name: '핸드폰케이스', price: 15000 },
      { name: '후드티', price: 30000 },
      { name: '바지', price: 25000 },
    ];
  </script>

  <!-- map -->
  <script>
    // f함수에게 위임을 한다.
    const map = (f, iter) => {   // 받을 인자가 iterable protocol을 따름
      let res = [];
      for (const a of iter) { // 어느 값이 올지 모르기에 a로 그냥 해준 것
        res.push(f(a));
      }
      return res; // 함수형 프로그래밍에서 함수는 인자와 리턴값으로 소통하길 권장한다.
    };              // 그렇게 리턴된 값으로 다른 곳으로 활용

    // 이 경우 사용하는 함수가 map(상단에 작성함)
    // let names = [];
    // for (const p of products){
    //   names.push(p.name);
    // }
    // log(names);

    let prices = [];
    for (const p of products) {
      prices.push(p.price);
    }
    log(prices);

    // 사용
    log(map(p => p.name, products));
    log(map(p => p.price, products));

    // map함수는 고차함수, 함수를 값으로 다루며 원하는 시점에 인자를 적용하는 함수이기도 함

  </script>

  <!-- 이터러블 프로토콜을 따른 map의 다형성 -->
  <script>



  </script>



</body>

</html>